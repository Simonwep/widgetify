/*! Widgetify 0.1.0 MIT | https://github.com/Simonwep/widgetify */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Widgetify=t():e.Widgetify=t()}(window,function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="dist/",o(o.s=0)}([function(e,t,o){"use strict";function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(o,!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.r(t);const s=c.bind(null,"addEventListener"),l=c.bind(null,"removeEventListener");function c(e,t,o,n,r={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);for(const s of t)for(const t of o)s[e](t,n,i({capture:!1},r));return Array.prototype.slice.call(arguments,1)}function u(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let o=e.target.parentElement;for(t=[e.target,o];o=o.parentElement;)t.push(o);return t.push(document,window),t}function p(e){const t={options:Object.assign({el:null,ref:null,inline:!1,disabled:!1,showAlways:!1,padding:8,position:"bottom-middle",closeWithKey:"Escape",onShow:()=>0,onHide:()=>0,beforeRepos:()=>0,afterRepos:()=>0},e),listeners:[],nanopop:null,_init(){const e=t.options;for(const t of["el","ref"])"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]));const{ref:o,el:n,padding:i}=e;if(e.inline){const e=o.parentElement;n.remove(),o.nextSibling?e.insertBefore(n,o.nextSibling):e.appendChild(n)}else{n.style.position="fixed",t.nanopop=function({el:e,ref:t,padding:o=8}){const n={start:"sme",middle:"mse",end:"ems"},i={top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},r=((e={})=>(t,o=e[t])=>{if(o)return o;const[n,i="middle"]=t.split("-"),r="top"===n||"bottom"===n;return e[t]={position:n,variant:i,isVertical:r}})();return{update(s){const{position:l,variant:c,isVertical:u}=r(s),p=t.getBoundingClientRect(),d=e.getBoundingClientRect(),a=e=>e?{t:p.top-d.height-o,b:p.bottom+o}:{r:p.right+o,l:p.left-d.width-o},f=e=>e?{s:p.left+p.width-d.width,m:-d.width/2+(p.left+p.width/2),e:p.left}:{s:p.bottom-d.height,m:p.bottom-p.height/2-d.height/2,e:p.bottom-p.height},b={};function m(t,o,n){const i="top"===n,r=i?d.height:d.width,s=window[i?"innerHeight":"innerWidth"];for(const i of t){const t=o[i],l=b[n]="".concat(t,"px");if(t>0&&t+r<s)return e.style[n]=l,!0}return!1}for(const e of[u,!u]){const t=m(i[l],a(e),e?"top":"left"),o=m(n[c],f(e),e?"left":"top");if(t&&o)return}e.style.left=b.left,e.style.top=b.top}}}({el:n,ref:o,padding:i});let e=null;t.listeners.push(s(window,["scroll","resize"],()=>{t.isVisible()&&(null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame(function o(){t.reposition(),null!==e&&requestAnimationFrame(o)})):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}const r=e.closeWithKey;return t.listeners.push(s(o,"click",()=>t.show()),s(document,"keyup",e=>(e.key===r||e.code===r)&&t.hide()),s(document,["touchstart","mousedown"],e=>{t.isVisible()&&!u(e).some(e=>e===o||e===n)&&t.hide()},{capture:!0})),e.disabled&&t.disable(),e.showAlways&&t.show(),t},reposition(){const e=t.options;return e.inline||!1===e.beforeRepos()||(t.nanopop.update(t.options.position),e.afterRepos()),t},show:()=>(t.options.disabled||t.isVisible()||(t.options.el.classList.add("visible"),t.reposition(),t.options.onShow(t)),t),hide(){const{disabled:e,showAlways:o,el:n}=t.options;return e||o||!t.isVisible()||(n.classList.remove("visible"),t.options.onHide(t)),t},disable:()=>(t.hide(),t.options.disabled=!0,t.options.ref.classList.add("disabled"),t),enable:()=>(t.options.disabled=!1,t.options.ref.classList.remove("disabled"),t),isVisible:()=>t.options.el.classList.contains("visible"),destroy(){t.listeners.forEach(e=>l(...e))},destroyAndRemove(){const{ref:e,el:o}=t.options;t.destroy(),e.remove(),o.remove()}};return t._init()}p.utils={on:s,off:l,eventPath:u},p.version="0.0.0";t.default=p}]).default});
//# sourceMappingURL=widgetify.min.js.map